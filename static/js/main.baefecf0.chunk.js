(this["webpackJsonpfriday-cards-project"]=this["webpackJsonpfriday-cards-project"]||[]).push([[0],{100:function(e,a,t){e.exports={loader:"Preloader_loader__2rl41"}},105:function(e,a,t){e.exports={sentMailResponse:"PasswordRecovery_sentMailResponse__1B0QB"}},131:function(e,a,t){},155:function(e,a,t){},156:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t(12),c=t.n(n),o=t(9),s=t(21),i=(t(131),t(55)),l=t(201),d=t(211),u=t(214),j=t(212),b=t(15),p=t(95),O=t.n(p),f=t(96),g=t.n(f),h=t(2),m=function(){return Object(h.jsxs)("div",{className:g.a.error404,children:[Object(h.jsx)("div",{children:"404"}),Object(h.jsx)("div",{children:"Page not found!"}),Object(h.jsx)("div",{children:"\u2014 \u0e05/\u1420. \u032b  .\u141f\\\u0e05\u2014"})]})},x=t(7),w=t(34),v=t(219),C=t(198),S=t(213),P=t(220),k=t(216),_=t(200),y=t(75),R=t.n(y),T=t(99),N=t.n(T).a.create({baseURL:"http://localhost:7542/2.0/",withCredentials:!0}),E={email:"",from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">password recovery link: \n              <a href='http://localhost:3000/friday-cards-project#/newPassword/$token$'>link</a></div>"},A=function(e){return N.post("auth/login",e)},I=function(){return N.delete("auth/me",{})},D=function(){return N.post("auth/me",{})},U=function(e,a){return N.post("auth/register",{email:e,password:a})},M=function(e){return N.post("auth/forgot",Object(x.a)(Object(x.a)({},E),{},{email:e}))},H=function(e,a){return N.post("auth/set-new-password",{password:e,resetPasswordToken:a})},L=function(e,a,t,r){return r?N.get("cards/pack?page=".concat(e,"&pageCount=").concat(a,"&sortPacks=").concat(t,"&user_id=").concat(r)):N.get("cards/pack?page=".concat(e,"&pageCount=").concat(a,"&sortPacks=").concat(t))},F=function(){return N.post("cards/pack",{cardsPack:{name:"PROJECT-CARD"}})},G=function(e){return N.delete("cards/pack?id=".concat(e))},J=function(e){return N.put("cards/pack",{cardsPack:{_id:e,name:"NEW-PACK-NAME"}})},q=function(e,a,t){return N.get("cards/card?cardsPack_id=".concat(t,"&page=").concat(e,"&pageCount=").concat(a))},W=function(e){return N.post("cards/card",{card:{cardsPack_id:e,question:"CARD-QUESTION",answer:"CARD-ANSWER"}})},Z=function(e){return N.delete("cards/card?id=".concat(e))},z=function(e){return N.put("cards/card",{card:{_id:e,question:"NEW-CARD-QUESTION",answer:"NEW-CARD-ANSWER"}})},V={status:"idle",error:null,isInitialized:!1},K=function(e){return{type:"APP/SET-STATUS",status:e}},B=function(e){return{type:"APP/SET-ERROR",error:e}},Q={data:null,isLoggedIn:!1},$=function(e){return{type:"login/SET-USER-DATA",data:e}},Y=function(e){return{type:"login/SET-IS-LOGGED-IN",value:e}},X=t(100),ee=t.n(X),ae=t(194),te=function(){return Object(h.jsx)("div",{className:ee.a.loader,children:Object(h.jsx)(ae.a,{})})},re=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.login.isLoggedIn})),t=Object(o.c)((function(e){return e.app.status})),r=Object(w.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",e.password?e.password.length<8&&(a.password="Invalid password"):a.password="Required",a},onSubmit:function(a){var t;e((t=a,function(e){e(K("loading")),A(t).then((function(a){e(K("succeeded")),e(Y(!0)),e($(a.data))})).catch((function(a){e(K("failed"));var t=a.response?a.response.data.error:a.message+", more details in the console";e(B("Error: "+t))}))})),r.resetForm()}});return"loading"===t?Object(h.jsx)(te,{}):a?Object(h.jsx)(b.a,{to:"/profile"}):Object(h.jsxs)("div",{className:R.a.loginFormContainer,children:[Object(h.jsx)("form",{onSubmit:r.handleSubmit,children:Object(h.jsx)(v.a,{children:Object(h.jsxs)(C.a,{children:[Object(h.jsx)(S.a,Object(x.a)({label:"Email",margin:"normal"},r.getFieldProps("email"))),r.touched.email&&r.errors.email?Object(h.jsx)("div",{style:{color:"red"},children:r.errors.email}):null,Object(h.jsx)(S.a,Object(x.a)({type:"password",label:"Password",margin:"normal"},r.getFieldProps("password"))),r.touched.password&&r.errors.password?Object(h.jsx)("div",{style:{color:"red"},children:r.errors.password}):null,Object(h.jsx)(P.a,{label:"Remember me",control:Object(h.jsx)(k.a,{onChange:r.handleChange,checked:r.values.rememberMe,name:"rememberMe"})}),Object(h.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})})}),Object(h.jsx)("div",{className:R.a.forgetPasswordContainer,children:Object(h.jsx)(s.c,{to:na.passwordRecovery,children:"Forgot password"})})]})},ne=t(105),ce=t.n(ne),oe={info:"",isMailSent:!1},se=function(e){return{type:"IS-MAIL-SENT",isMailSent:e}},ie=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.passwordRecovery})),t=Object(w.a)({initialValues:{email:""},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",a},onSubmit:function(a){var r;e((r=a.email,function(e){e(K("loading")),M(r).then((function(a){e({type:"FORGOT-PASSWORD-RESPONSE",info:a.data.info}),e(se(!0)),e(K("succeeded"))})).catch((function(a){e(K("failed")),e(B("Error: "+a.response.data.error)),e(se(!1))}))})),t.resetForm()}});return Object(h.jsx)("div",{children:a.isMailSent?Object(h.jsx)("div",{className:ce.a.sentMailResponse,children:"the recovery link has been sent on your email"}):Object(h.jsx)("form",{onSubmit:t.handleSubmit,children:Object(h.jsx)(v.a,{children:Object(h.jsxs)(C.a,{children:[Object(h.jsx)(S.a,Object(x.a)({label:"Email",margin:"normal"},t.getFieldProps("email"))),t.touched.email&&t.errors.email?Object(h.jsx)("div",{style:{color:"red"},children:t.errors.email}):null,Object(h.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",children:"Send recovery-link"})]})})})})},le=t(69),de=t.n(le),ue=function(){var e=Object(o.c)((function(e){return e.login.isLoggedIn})),a=Object(o.c)((function(e){return e.login.data}));return e?Object(h.jsx)("div",{className:de.a.profile,children:a&&Object(h.jsxs)("div",{className:de.a.containerProfile,children:[Object(h.jsxs)("span",{children:["User name: ",a.name]}),Object(h.jsxs)("span",{children:["User email: ",a.email]}),Object(h.jsx)("div",{className:de.a.avatarContainer,children:Object(h.jsx)("img",{src:a.avatar,alt:"avatar"})})]})}):Object(h.jsx)(b.a,{to:"/login"})},je={passwordIsSet:!1},be=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.newPassword})),t=Object(b.g)().resetPasswordToken,r=Object(w.a)({initialValues:{password:"",repeatPassword:""},validate:function(e){var a={};return e.password?e.password.length<8&&(a.password="Password must be more than 7 characters"):a.password="Required",e.repeatPassword?e.password!==e.repeatPassword&&(a.repeatPassword="Passwords are not equal"):a.repeatPassword="Required",a},onSubmit:function(a){e(function(e,a){return function(t){H(e,a).then((function(e){t({type:"SET-NEW-PASSWORD",passwordIsSet:!0})})).catch((function(e){t(B("Error: "+e.response.data.error))}))}}(a.password,t)),r.resetForm()}});return a.passwordIsSet?Object(h.jsx)(b.a,{to:"/login"}):Object(h.jsx)("div",{children:Object(h.jsx)("form",{onSubmit:r.handleSubmit,children:Object(h.jsx)(v.a,{children:Object(h.jsxs)(C.a,{children:[Object(h.jsx)(S.a,Object(x.a)({type:"password",label:"Password",margin:"normal"},r.getFieldProps("password"))),r.touched.password&&r.errors.password?Object(h.jsx)("div",{style:{color:"red"},children:r.errors.password}):null,Object(h.jsx)(S.a,Object(x.a)({type:"password",label:"Repeat password",margin:"normal"},r.getFieldProps("repeatPassword"))),r.touched.repeatPassword&&r.errors.repeatPassword?Object(h.jsx)("div",{style:{color:"red"},children:r.errors.repeatPassword}):null,Object(h.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",children:"Set new password"})]})})})})},pe={isSignUp:!1},Oe=function(e){return{type:"SET-IS-SIGN-UP",value:e}},fe=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.registration.isSignUp})),t=Object(w.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",e.password?e.password.length<8&&(a.password="Password must be more than 7 characters"):a.password="Required",e.repeatPassword?e.password!==e.repeatPassword&&(a.repeatPassword="Passwords are not equal"):a.repeatPassword="Required",a},onSubmit:function(a){var r,n;e((r=a.email,n=a.password,function(e){e(K("loading")),U(r,n).then((function(a){e(K("succeeded")),e(Oe(!0))})).catch((function(a){e(K("failed")),e(B("Error: "+a.response.data.error))}))})),t.resetForm()}});return a?Object(h.jsx)(b.a,{to:"/login"}):Object(h.jsx)("div",{children:Object(h.jsx)("form",{onSubmit:t.handleSubmit,children:Object(h.jsx)(v.a,{children:Object(h.jsxs)(C.a,{children:[Object(h.jsx)(S.a,Object(x.a)({label:"Email",margin:"normal"},t.getFieldProps("email"))),t.touched.email&&t.errors.email?Object(h.jsx)("div",{style:{color:"red"},children:t.errors.email}):null,Object(h.jsx)(S.a,Object(x.a)({type:"password",label:"Password",margin:"normal"},t.getFieldProps("password"))),t.touched.password&&t.errors.password?Object(h.jsx)("div",{style:{color:"red"},children:t.errors.password}):null,Object(h.jsx)(S.a,Object(x.a)({type:"password",label:"Repeat password",margin:"normal"},t.getFieldProps("repeatPassword"))),t.touched.repeatPassword&&t.errors.repeatPassword?Object(h.jsx)("div",{style:{color:"red"},children:t.errors.repeatPassword}):null,Object(h.jsx)(_.a,{type:"submit",variant:"contained",color:"primary",children:"Sign up"})]})})})})},ge={packs:[],columns:[{id:1,name:"Name"},{id:2,name:"Amount of cards"},{id:3,name:"Grade"},{id:4,name:"Date of updates"}],page:1,pageCount:6,cardPacksTotalCount:10},he=function(e,a,t,r){return function(n){n(K("loading")),n(Ce(e)),L(e,a,t,r).then((function(e){n(K("succeeded")),n(ve(e.data.cardPacks)),n(Se(e.data.cardPacksTotalCount))})).catch((function(e){n(K("failed")),n(B("Error: "+e.response.data.error))}))}},me=function(e,a){return function(t,r){t(K("loading"));var n=r().packs,c=n.page,o=n.pageCount;F().then((function(r){t(K("succeeded")),t(he(c,o,e,a))})).catch((function(e){t(K("failed")),t(B("Error: "+e.response.data.error))}))}},xe=function(e,a,t){return function(r,n){r(K("loading"));var c=n().packs,o=c.page,s=c.pageCount;G(e).then((function(e){r(K("succeeded")),r(he(o,s,a,t))})).catch((function(e){r(K("failed")),r(B("Error: "+e.response.data.error))}))}},we=function(e,a,t){return function(r,n){r(K("loading"));var c=n().packs,o=c.page,s=c.pageCount;J(e).then((function(e){r(K("succeeded")),r(he(o,s,a,t))})).catch((function(e){r(K("failed")),r(B("Error: "+e.response.data.error))}))}},ve=function(e){return{type:"SET-PACKS",packs:e}},Ce=function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},Se=function(e){return{type:"SET-PACKS-TOTAL-COUNT",cardPacksTotalCount:e}},Pe=t(107),ke=t(202),_e=Object(l.a)({nav:{display:"flex",justifyContent:"center",marginBottom:"13px"},ul:{listStyle:"none",padding:0,margin:0,display:"flex",color:"black"}});function ye(e){var a=_e(),t=Object(ke.a)({count:e.totalCount}).items;return Object(h.jsx)("nav",{className:a.nav,children:Object(h.jsx)("ul",{className:a.ul,children:t.map((function(a,t){var r=a.page,n=a.type,c=a.selected,o=Object(Pe.a)(a,["page","type","selected"]),s=null;return s="start-ellipsis"===n||"end-ellipsis"===n?"\u2026":"page"===n?Object(h.jsx)("button",Object(x.a)(Object(x.a)({type:"button",style:{fontWeight:c?"bold":void 0,fontSize:"20px",marginRight:"7px"}},o),{},{children:r})):Object(h.jsx)("button",Object(x.a)(Object(x.a)({type:"button",style:{fontSize:"20px",marginRight:"7px"}},o),{},{children:n})),Object(h.jsx)("li",{onClick:function(a){e.onPageChanged(r)},children:s},t)}))})})}var Re=t(203),Te=t(204),Ne=t(199),Ee=t(205),Ae=t(206),Ie=t(41),De=t.n(Ie);function Ue(e){var a=Object(o.c)((function(e){var a;return null===(a=e.login.data)||void 0===a?void 0:a._id})),t=e.id,r=e.name,n=e.cardsCount,c=e.grade,i=e.updated,l=e.user_id,d=new Date(i),u=d.getFullYear(),j=d.getMonth()+1<10?"0".concat(d.getMonth()+1):d.getMonth()+1,b=d.getDate()<10?"0".concat(d.getDate()):d.getDate(),p=d.getHours()<10?"0".concat(d.getHours()):d.getHours(),O=d.getMinutes()<10?"0".concat(d.getMinutes()):d.getMinutes(),f="".concat(b,"-").concat(j,"-").concat(u),g="".concat(p,":").concat(O);return Object(h.jsxs)(Re.a,{className:De.a.tablePackRow,children:[Object(h.jsx)(Te.a,{className:De.a.tableRowCellName,children:r}),Object(h.jsx)(Te.a,{className:De.a.tableRowCellCardsCount,align:"center",children:n}),Object(h.jsx)(Te.a,{className:De.a.tableRowCellGrade,align:"center",children:c}),Object(h.jsxs)(Te.a,{className:De.a.tableRowCellUpdated,align:"center",children:[f,Object(h.jsx)("br",{}),g]}),Object(h.jsx)(Te.a,{children:Object(h.jsx)(Ne.a,{onClick:function(){e.updatePack(t)},disabled:a!==l,children:Object(h.jsx)(Ee.a,{color:a!==l?"disabled":"primary"})})}),Object(h.jsx)(Te.a,{children:Object(h.jsx)(Ne.a,{onClick:function(){e.deletePack(t)},disabled:a!==l,children:Object(h.jsx)(Ae.a,{color:a!==l?"disabled":"primary"})})}),Object(h.jsx)(Te.a,{className:De.a.tableRowCellCardsLink,children:Object(h.jsx)(s.c,{to:"/cards/"+t,children:"Cards"})})]})}var Me=t(209),He=t(207),Le=t(157),Fe=t(210),Ge=t(208),Je=t(221),qe=t(42),We=t.n(qe);function Ze(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.login.isLoggedIn})),t=Object(o.c)((function(e){var a;return null===(a=e.login.data)||void 0===a?void 0:a._id})),n=Object(o.c)((function(e){return e.packs.packs})),c=Object(o.c)((function(e){return e.packs.columns})),s=Object(o.c)((function(e){return e.packs.cardPacksTotalCount})),l=Object(o.c)((function(e){return e.packs.pageCount})),d=Object(o.c)((function(e){return e.packs.page})),u=Math.ceil(s/l),j=!!localStorage.myPacksShowValue&&JSON.parse(localStorage.myPacksShowValue),p=localStorage.sortProperty?JSON.parse(localStorage.sortProperty):"",O=Object(r.useState)(j),f=Object(i.a)(O,2),g=f[0],m=f[1],x=Object(r.useState)(p),w=Object(i.a)(x,2),v=w[0],C=w[1],S=function(a){g?t&&e(xe(a,v,t)):e(xe(a,v))},P=function(a){g?t&&e(we(a,v,t)):e(we(a,v))},y=function(){localStorage.setItem("sortProperty",JSON.stringify("1name"));var a=JSON.parse(localStorage.sortProperty);C(a),g?t&&e(he(d,l,a,t)):e(he(d,l,a))},R=function(){localStorage.setItem("sortProperty",JSON.stringify("0name"));var a=JSON.parse(localStorage.sortProperty);C(a),g?t&&e(he(d,l,a,t)):e(he(d,l,a))},T=function(){localStorage.setItem("sortProperty",JSON.stringify("1cardsCount"));var a=JSON.parse(localStorage.sortProperty);C(a),g?t&&e(he(d,l,a,t)):e(he(d,l,a))},N=function(){localStorage.setItem("sortProperty",JSON.stringify("0cardsCount"));var a=JSON.parse(localStorage.sortProperty);C(a),g?t&&e(he(d,l,a,t)):e(he(d,l,a))},E=function(){localStorage.setItem("sortProperty",JSON.stringify("1grade"));var a=JSON.parse(localStorage.sortProperty);C(a),g?t&&e(he(d,l,a,t)):e(he(d,l,a))},A=function(){localStorage.setItem("sortProperty",JSON.stringify("0grade"));var a=JSON.parse(localStorage.sortProperty);C(a),g?t&&e(he(d,l,a,t)):e(he(d,l,a))};return Object(r.useEffect)((function(){g?t&&e(he(d,l,v,t)):e(he(d,l,v))}),[]),a?Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:We.a.packsHeader,children:"PACKS OF CARDS"}),Object(h.jsx)(k.a,{checked:g,onChange:function(a){localStorage.setItem("myPacksShowValue",JSON.stringify(a.currentTarget.checked));var r=JSON.parse(localStorage.myPacksShowValue);m(r),r?t&&e(he(d,l,v,t)):e(he(d,l,v))},color:"primary"}),Object(h.jsx)("span",{className:We.a.showMyPacksTitle,children:"My packs"}),Object(h.jsxs)(He.a,{component:Le.a,className:We.a.packsTable,children:[Object(h.jsxs)(Ge.a,{children:[Object(h.jsx)(Me.a,{className:We.a.packsTableHead,children:Object(h.jsxs)(Re.a,{className:We.a.packsTableHeadColumnRow,children:[c.map((function(e){return Object(h.jsxs)(Te.a,{align:"center",className:We.a.cell,children:[e.name,"Name"===e.name&&Object(h.jsxs)("div",{children:[Object(h.jsx)(Je.a,{active:!0,direction:"asc",onClick:y}),Object(h.jsx)(Je.a,{active:!0,direction:"desc",onClick:R})]}),"Amount of cards"===e.name&&Object(h.jsxs)("div",{children:[Object(h.jsx)(Je.a,{active:!0,direction:"asc",onClick:T}),Object(h.jsx)(Je.a,{active:!0,direction:"desc",onClick:N})]}),"Grade"===e.name&&Object(h.jsxs)("div",{children:[Object(h.jsx)(Je.a,{active:!0,direction:"asc",onClick:E}),Object(h.jsx)(Je.a,{active:!0,direction:"desc",onClick:A})]})]},e.id)})),Object(h.jsx)(Te.a,{colSpan:3,align:"center",children:Object(h.jsx)(_.a,{color:"primary",variant:"contained",onClick:function(){g?t&&e(me(v,t)):e(me(v))},children:"Add pack"})})]})}),Object(h.jsx)(Fe.a,{children:n.map((function(e){return Object(h.jsx)(Ue,{id:e._id,user_id:e.user_id,name:e.name,cardsCount:e.cardsCount,grade:e.grade,updated:e.updated,deletePack:S,updatePack:P},e._id)}))})]}),Object(h.jsx)(ye,{totalCount:u,onPageChanged:function(a){g?t&&e(he(a,l,v,t)):e(he(a,l,v))}})]})]}):Object(h.jsx)(b.a,{to:"/login"})}var ze=t(60),Ve={cards:{},columns:[{id:1,name:"Question"},{id:2,name:"Answer"},{id:3,name:"Grade"},{id:4,name:"Updated"}],page:1,pageCount:6,cardsTotalCount:10},Ke=function(e,a,t){return function(r){r(K("loading")),r(Qe(e)),q(e,a,t).then((function(e){r(K("succeeded")),r(Be(e.data.cards,t)),r($e(e.data.cardsTotalCount))})).catch((function(e){r(K("failed")),r(B("Error: "+e.response.data.error))}))}},Be=function(e,a){return{type:"SET-CARDS",cards:e,packID:a}},Qe=function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},$e=function(e){return{type:"SET-CARDS-TOTAL-COUNT",cardsTotalCount:e}},Ye=t(49),Xe=t.n(Ye);function ea(e){var a=Object(o.c)((function(e){var a;return null===(a=e.login.data)||void 0===a?void 0:a._id})),t=e.cardID,r=e.question,n=e.answer,c=e.grade,s=e.updated,i=e.user_id,l=new Date(s),d=l.getFullYear(),u=l.getMonth()+1<10?"0".concat(l.getMonth()+1):l.getMonth()+1,j=l.getDate()<10?"0".concat(l.getDate()):l.getDate(),b=l.getHours()<10?"0".concat(l.getHours()):l.getHours(),p=l.getMinutes()<10?"0".concat(l.getMinutes()):l.getMinutes(),O="".concat(j,"-").concat(u,"-").concat(d),f="".concat(b,":").concat(p);return Object(h.jsxs)(Re.a,{className:Xe.a.tableCardRow,children:[Object(h.jsx)(Te.a,{className:Xe.a.tableRowCellQuestion,children:r}),Object(h.jsx)(Te.a,{className:Xe.a.tableRowCellAnswer,children:n}),Object(h.jsx)(Te.a,{className:Xe.a.tableRowCellGrade,align:"center",children:c}),Object(h.jsxs)(Te.a,{className:Xe.a.tableRowCellUpdated,align:"center",children:[O,Object(h.jsx)("br",{}),f]}),Object(h.jsx)(Te.a,{children:Object(h.jsx)(Ne.a,{onClick:function(){e.updateCard(t)},disabled:a!==i,children:Object(h.jsx)(Ee.a,{color:a!==i?"disabled":"secondary"})})}),Object(h.jsx)(Te.a,{children:Object(h.jsx)(Ne.a,{onClick:function(){e.deleteCard(t)},disabled:a!==i,children:Object(h.jsx)(Ae.a,{color:a!==i?"disabled":"secondary"})})})]})}var aa=t(50),ta=t.n(aa);function ra(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.login.isLoggedIn})),t=Object(o.c)((function(e){return e.cards.cards})),n=Object(o.c)((function(e){return e.cards.columns})),c=Object(o.c)((function(e){return e.cards.cardsTotalCount})),s=Object(o.c)((function(e){return e.cards.pageCount})),i=Object(o.c)((function(e){return e.cards.page})),l=Math.ceil(c/s),d=Object(b.h)("/cards/:id"),u=null===d||void 0===d?void 0:d.params.id,j=u&&t[u],p=function(a){u&&e(function(e,a){return function(t,r){t(K("loading"));var n=r().cards,c=n.page,o=n.pageCount;Z(e).then((function(e){t(K("succeeded")),t(Ke(c,o,a))})).catch((function(e){t(K("failed")),t(B("Error: "+e.response.data.error))}))}}(a,u))},O=function(a){u&&e(function(e,a){return function(t,r){t(K("loading"));var n=r().packs,c=n.page,o=n.pageCount;z(e).then((function(e){t(K("succeeded")),t(Ke(c,o,a))})).catch((function(e){t(K("failed")),t(B("Error: "+e.response.data.error))}))}}(a,u))};return Object(r.useEffect)((function(){u&&e(Ke(i,s,u))}),[]),a?Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{className:ta.a.cardsHeader,children:"CARDS"}),Object(h.jsxs)(He.a,{component:Le.a,className:ta.a.cardsTable,children:[Object(h.jsxs)(Ge.a,{children:[Object(h.jsx)(Me.a,{className:ta.a.cardsTableHead,children:Object(h.jsxs)(Re.a,{className:ta.a.cardsTableHeadColumnRow,children:[n.map((function(e){return Object(h.jsx)(Te.a,{component:"th",align:"center",className:ta.a.cell,children:e.name},e.id)})),Object(h.jsx)(Te.a,{colSpan:2,align:"center",children:Object(h.jsx)(_.a,{color:"secondary",variant:"contained",onClick:function(){u&&e(function(e){return function(a,t){a(K("loading"));var r=t().cards,n=r.page,c=r.pageCount;W(e).then((function(t){a(K("succeeded")),a(Ke(n,c,e))})).catch((function(e){a(K("failed")),a(B("Error: "+e.response.data.error))}))}}(u))},children:"Add card"})})]})}),Object(h.jsx)(Fe.a,{children:j&&j.map((function(e){return Object(h.jsx)(ea,{cardID:e._id,user_id:e.user_id,question:e.question,answer:e.answer,grade:e.grade,updated:e.updated,deleteCard:p,updateCard:O},e._id)}))})]}),Object(h.jsx)(ye,{totalCount:l,onPageChanged:function(a){u&&e(Ke(a,s,u))}})]})]}):Object(h.jsx)(b.a,{to:"/login"})}var na={login:"/login",passwordRecovery:"/passwordRecovery",profile:"/profile",signUp:"/signUp",newPassword:"/newPassword",error:"/404",packs:"/packs",cards:"/cards"},ca=function(){return Object(h.jsx)("div",{className:O.a.currentDisplay,children:Object(h.jsxs)(b.d,{children:[Object(h.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(b.a,{to:na.login})}}),Object(h.jsx)(b.b,{path:na.login,render:function(){return Object(h.jsx)(re,{})}}),Object(h.jsx)(b.b,{exact:!0,path:na.signUp,render:function(){return Object(h.jsx)(fe,{})}}),Object(h.jsx)(b.b,{exact:!0,path:na.profile,render:function(){return Object(h.jsx)(ue,{})}}),Object(h.jsx)(b.b,{exact:!0,path:na.packs,render:function(){return Object(h.jsx)(Ze,{})}}),Object(h.jsx)(b.b,{exact:!0,path:"".concat(na.cards,"/:id"),render:function(){return Object(h.jsx)(ra,{})}}),Object(h.jsx)(b.b,{exact:!0,path:na.passwordRecovery,render:function(){return Object(h.jsx)(ie,{})}}),Object(h.jsx)(b.b,{path:"".concat(na.newPassword,"/:resetPasswordToken"),render:function(){return Object(h.jsx)(be,{})}}),Object(h.jsx)(b.b,{path:na.error,render:function(){return Object(h.jsx)(m,{})}}),Object(h.jsx)(b.a,{from:"*",to:na.error})]})})},oa=Object(l.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var sa=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.login.isLoggedIn})),t=Object(r.useState)(""),n=Object(i.a)(t,2),c=n[0],l=n[1],b=oa(),p=function(e,a){l(a)};return a?Object(h.jsx)("div",{className:b.root,children:Object(h.jsx)(d.a,{position:"static",children:Object(h.jsxs)(u.a,{value:c,onChange:p,"aria-label":"header tabs",children:[Object(h.jsx)(j.a,{label:"profile",value:"/profile",component:s.b,to:na.profile}),Object(h.jsx)(j.a,{label:"packs",value:"/packs",component:s.b,to:na.packs}),Object(h.jsx)(j.a,{label:"logout",onClick:function(){e((function(e){e(K("loading")),I().then((function(a){e(K("succeeded")),e(Y(!1)),e($(null)),localStorage.clear()})).catch((function(a){e(K("failed"));var t=a.response?a.response.data.error:a.message+", more details in the console";e(B("Error: "+t))}))}))}})]})})}):Object(h.jsx)("div",{className:b.root,children:Object(h.jsx)(d.a,{position:"static",children:Object(h.jsxs)(u.a,{value:c,onChange:p,"aria-label":"simple tabs example",children:[Object(h.jsx)(j.a,{label:"login",value:"/login",component:s.b,to:na.login}),Object(h.jsx)(j.a,{label:"sign up",value:"/signUp",component:s.b,to:na.signUp})]})})})},ia=t(218),la=t(215);function da(e){return Object(h.jsx)(la.a,Object(x.a)({elevation:6,variant:"filled"},e))}function ua(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.app.error})),t=null!==a;return Object(h.jsx)(ia.a,{open:t,autoHideDuration:6e3,onClose:function(a,t){"clickaway"!==t&&e(B(null))},children:Object(h.jsx)(da,{severity:"error",children:a})})}var ja=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.login.data})),t=Object(o.c)((function(e){return e.app.isInitialized}));return Object(r.useEffect)((function(){!a&&e((function(e){e(K("loading")),D().then((function(a){e(K("succeeded")),e($(a.data)),e(Y(!0))})).catch((function(a){e(K("failed"));var t=a.response?a.response.data.error:a.message+", more details in the console";e(B("Error: "+t))})).finally((function(){e({type:"APP/SET-IS-INITIALIZED",isInitialized:!0})}))}))}),[e,a]),t?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(sa,{}),Object(h.jsx)(ua,{}),Object(h.jsx)(ca,{})]}):Object(h.jsx)(te,{})},ba=(t(155),t(38)),pa=t(106),Oa={},fa=Object(ba.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"login/SET-USER-DATA":return Object(x.a)(Object(x.a)({},e),{},{data:a.data});case"login/SET-IS-LOGGED-IN":return Object(x.a)(Object(x.a)({},e),{},{isLoggedIn:a.value});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-IS-SIGN-UP":return Object(x.a)(Object(x.a)({},e),{},{isSignUp:a.value});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,a=arguments.length>1?arguments[1]:void 0;return a.type,e},passwordRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FORGOT-PASSWORD-RESPONSE":return Object(x.a)(Object(x.a)({},e),{},{info:a.info});case"IS-MAIL-SENT":return Object(x.a)(Object(x.a)({},e),{},{isMailSent:a.isMailSent});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-NEW-PASSWORD":return Object(x.a)(Object(x.a)({},e),{},{passwordIsSet:a.passwordIsSet});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP/SET-STATUS":return Object(x.a)(Object(x.a)({},e),{},{status:a.status});case"APP/SET-ERROR":return Object(x.a)(Object(x.a)({},e),{},{error:a.error});case"APP/SET-IS-INITIALIZED":return Object(x.a)(Object(x.a)({},e),{},{isInitialized:a.isInitialized});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-PACKS":return Object(x.a)(Object(x.a)({},e),{},{packs:a.packs.map((function(e){return Object(x.a)({},e)}))});case"SET-PACKS-TOTAL-COUNT":return Object(x.a)(Object(x.a)({},e),{},{cardPacksTotalCount:a.cardPacksTotalCount});case"SET-CURRENT-PAGE":return Object(x.a)(Object(x.a)({},e),{},{page:a.currentPage});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-CARDS":return Object(x.a)(Object(x.a)({},e),{},{cards:Object(ze.a)({},a.packID,a.cards)});case"SET-CARDS-TOTAL-COUNT":return Object(x.a)(Object(x.a)({},e),{},{cardsTotalCount:a.cardsTotalCount});case"SET-CURRENT-PAGE":return Object(x.a)(Object(x.a)({},e),{},{page:a.currentPage});default:return e}}}),ga=Object(ba.d)(fa,Object(ba.a)(pa.a));window.store=ga,console.log(ga.getState());var ha=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,222)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,c=a.getLCP,o=a.getTTFB;t(e),r(e),n(e),c(e),o(e)}))};c.a.render(Object(h.jsx)(s.a,{children:Object(h.jsx)(o.a,{store:ga,children:Object(h.jsx)(ja,{})})}),document.getElementById("root")),ha()},41:function(e,a,t){e.exports={tablePackRow:"Pack_tablePackRow__r_1xX",tableRowCellName:"Pack_tableRowCellName__3nDzt",tableRowCellCardsCount:"Pack_tableRowCellCardsCount__3ddus",tableRowCellGrade:"Pack_tableRowCellGrade__2gwRh",tableRowCellUpdated:"Pack_tableRowCellUpdated__21f2o",tableRowCellCardsLink:"Pack_tableRowCellCardsLink__7jrgi"}},42:function(e,a,t){e.exports={packsHeader:"Packs_packsHeader__38w-Z",showMyPacksTitle:"Packs_showMyPacksTitle__2HDFq",packsTable:"Packs_packsTable__1vuK1",packsTableHead:"Packs_packsTableHead__k07CC",packsTableHeadColumnRow:"Packs_packsTableHeadColumnRow__2BKT7",cell:"Packs_cell__2Ywge"}},49:function(e,a,t){e.exports={tableCardRow:"Card_tableCardRow__1rcpq",tableRowCellQuestion:"Card_tableRowCellQuestion__121BS",tableRowCellAnswer:"Card_tableRowCellAnswer__2KcxW",tableRowCellGrade:"Card_tableRowCellGrade__24NxH",tableRowCellUpdated:"Card_tableRowCellUpdated__3O0Vz"}},50:function(e,a,t){e.exports={cardsHeader:"Cards_cardsHeader__3z35b",cardsTable:"Cards_cardsTable__1LhBS",cardsTableHead:"Cards_cardsTableHead__wznb-",cardsTableHeadColumnRow:"Cards_cardsTableHeadColumnRow__1eqTZ",cell:"Cards_cell__1XDDd"}},69:function(e,a,t){e.exports={profile:"Profile_profile__27UMu",containerProfile:"Profile_containerProfile__11pIb",avatarContainer:"Profile_avatarContainer__20AMt"}},75:function(e,a,t){e.exports={loginFormContainer:"Login_loginFormContainer__2aD1U",forgetPasswordContainer:"Login_forgetPasswordContainer__2P8CS"}},95:function(e,a,t){e.exports={currentDisplay:"Routes_currentDisplay__1z_mw"}},96:function(e,a,t){e.exports={error404:"Error404_error404__3GaOV"}}},[[156,1,2]]]);
//# sourceMappingURL=main.baefecf0.chunk.js.map